<section class="content-header">
  <h1>
    User Profile
  </h1>
  <ol class="breadcrumb margin-bottom-none">
    <li><a [routerLink]="['/']">Home</a></li>
    <li class="active">User profile</li>
  </ol>

</section>


<section class="content">
  <div class="row">
    <div class="col-lg-3">

      <div class="box box-primary">
        <div class="box-body box-profile">
          <div class="col-xs-12">
            <input type="file" name="avatar" #inputFile [style.display]="'none'">
            <img class="profile-user-img img-responsive img-circle avatar"
                 [src]="user?.avatar.small"
                 alt="User profile picture"
                 appImageUpload
                 [input]="inputFile"
                 [disable]="!isYou"
                 (fileChange)="onChange($event)">
          </div>

          <h3 class="profile-username text-center">{{ user?.fullName }}</h3>

          <p class="text-muted text-center">{{ user?.position }}</p>

          <ul class="list-group list-group-unbordered">
            <li class="list-group-item">
              <b>{{ userStats?.week.begin | date:'dd MMMM' }} - {{ userStats?.week.end | date:'dd MMMM yyyy' }}</b> <a
              class="pull-right">{{ userStats?.week.minutes | humanizeTime }}</a>
            </li>
            <li class="list-group-item">
              <b>{{ userStats?.month.name }}</b> <a class="pull-right">{{ userStats?.month.minutes | humanizeTime }}</a>
            </li>
            <li class="list-group-item">
              <b>{{ userStats?.prev_month.name }}</b> <a class="pull-right">{{ userStats?.prev_month.minutes |
              humanizeTime }}</a>
            </li>
          </ul>

          <a class="btn btn-primary btn-block"><b>Follow</b></a>
        </div>
      </div>

      <div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">About Me</h3>
        </div>

        <div class="box-body no-padding">
          <table class="table table-striped table-responsive">
            <tbody>
            <tr>
              <td><i class="fa fa-fw fa-birthday-cake"></i></td>
              <td>Date of birth</td>
              <td><span class="">{{ user?.birthday | date:'MMMM dd, yyyy' }}</span></td>
            </tr>
            <tr>
              <td><i class="fa fa-fw fa-envelope"></i></td>
              <td>Email</td>
              <td><span class="">{{ user?.email || 'ipsum' }}</span></td>
            </tr>
            <tr>
              <td><i class="fa fa-fw fa-phone"></i></td>
              <td>Phone number</td>
              <td><span class="">{{ user?.phone || 'dolor' }}</span></td>
            </tr>
            <tr>
              <td><i class="fa fa-fw fa-github"></i></td>
              <td>Github</td>
              <td><span class="">{{ user?.github || 'sit' }}</span></td>
            </tr>
            <tr>
              <td><i class="fa fa-fw fa-bitbucket"></i></td>
              <td>Bitbucket</td>
              <td><span class="">{{ user?.bitbucket || 'amet' }}</span></td>
            </tr>
            <tr>
              <td><i class="fa fa-fw fa-skype"></i></td>
              <td>Skype</td>
              <td><span class="">{{ user?.skype || 'consectetur' }}</span></td>
            </tr>
            </tbody>
          </table>
          <div *ngIf="isYou">
            <a class="btn btn-block btn-primary margin set"
               (click)="onButtonClick()"
            ><b>Edit profile</b>
            </a>
          </div>

        </div>
        <!-- /.box-body -->
      </div>

    </div>
    <!-- /.box -->
    <!-- /.col -->


    <div class="col-lg-9">
      <div>
        <tabset #tabset>
          <tab class="nav-tabs-custom"
               id="activity"
               heading="Activity"
               (select)="onTabSelect('activity')">
            <div class="tab-content">
              <app-user-activity>
                <app-time-activity></app-time-activity>
                <br>
                <app-time-table width="690px"></app-time-table>
                <br>
                <app-recent-update
                  *ngIf="user"
                  [userId]="user.id"></app-recent-update>
              </app-user-activity>
            </div>
          </tab>
          <tab class="nav-tabs-custom"
               id="timeline"
               heading="Timeline"
               (select)="onTabSelect('timeline')">
            <div class="tab-content">
              <app-user-timeline>
                <app-updates *ngIf="user"
                             [user]="user"></app-updates>
              </app-user-timeline>
            </div>
          </tab>
          <tab *ngIf="isYou"
               class="nav-tabs-custom"
               id="settings"
               heading="Settings"
               (select)="onTabSelect('settings')">
            <div class="tab-content">
              <app-user-settings>
                <app-user-settings-form></app-user-settings-form>
              </app-user-settings>
            </div>
          </tab>
        </tabset>
      </div>
    </div>
  </div>
</section>
